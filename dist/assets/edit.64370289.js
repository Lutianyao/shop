import{a as l}from"./index.esm.a71c9237.js";import{_ as c,c as h,a as r,F as u,e as i,o as f}from"./index.b5b14002.js";const m={created(){let e=this.$route.query.addressid;this.addressid=e,this.AddressInfo()},data(){return{areaList:l,addressid:null,Address:{},LoginUser:this.$cookies.get("LoginUser")}},methods:{onClickLeft(){this.$router.push("/user/address/index")},async AddressInfo(){let e=await this.$api.addressInfo({addressid:this.addressid});if(e.code===0)return this.$notify({type:"warning",message:e.msg}),this.$router.go(-1),!1;let s=e.data,t={name:s.consignee,tel:s.mobile,addressDetail:s.address,isDefault:s.status==1,areaCode:s.district};this.Address=t},async onSave(e){let s={consignee:e.name,mobile:e.tel,code:e.areaCode,status:e.isDefault?1:0,address:e.addressDetail,addressid:this.addressid,userid:this.LoginUser.id},t=await this.$api.AddressEdit(s);t.code===1?this.$notify({type:"success",message:t.msg,onClose:()=>{this.$router.push("/user/address/index")}}):this.$notify({type:"warning",message:t.msg})},onDelete(){this.$dialog.confirm({message:"\u786E\u5B9A\u5220\u9664\u8BE5\u6536\u8D27\u5730\u5740\uFF1F"}).then(async()=>{let e=await this.$api.AddressDelete({addressid:this.addressid});this.$toast(e.msg),this.$router.push("/user/address/index")}).catch(()=>{})}}};function g(e,s,t,p,d,a){const n=i("van-nav-bar"),o=i("van-address-edit");return f(),h(u,null,[r(n,{title:"\u65B0\u589E\u6536\u8D27\u5730\u5740","left-arrow":"",onClickLeft:a.onClickLeft},null,8,["onClickLeft"]),r(o,{"area-list":d.areaList,"show-delete":"","show-set-default":"","address-info":d.Address,"area-columns-placeholder":["\u8BF7\u9009\u62E9","\u8BF7\u9009\u62E9","\u8BF7\u9009\u62E9"],onSave:a.onSave,onDelete:a.onDelete},null,8,["area-list","address-info","onSave","onDelete"])],64)}const y=c(m,[["render",g]]);export{y as default};
