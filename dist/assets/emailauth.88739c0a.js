import{_ as f,c as g,a,w as i,b as o,F as v,e as c,o as r,f as d,g as u}from"./index.3b68d354.js";const w={data(){return{LoginUser:this.$cookies.get("LoginUser"),code:null,time:60*1e3,showCountdown:!1}},methods:{back(){this.$router.push("/user/base/index")},countDownFinish(){this.showCountdown=!1},async getSmsCode(){this.showCountdown=!0;let e=await this.$api.email({userid:this.LoginUser.id});e.code=="1"?this.$notify({type:"success",message:e.msg,duration:1e3}):this.$notify({message:e.msg,duration:1e3})},async ChangeCode(){if(this.code=="")this.$toast("\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A");else{let e={userid:this.LoginUser.id,code:this.code},t=await this.$api.emailcode(e);t.code===1&&(this.$toast(t.msg),this.$router.push("/user/base/index"))}}}},C=o("div",{role:"alert",class:"van-notice-bar",style:{padding:"10px"}},[o("i",{class:"van-badge__wrapper van-icon van-icon-warning van-notice-bar__left-icon"}),o("div",{role:"marquee",class:"van-notice-bar__wrap"},[o("div",{class:"van-notice-bar__content",style:{"transition-duration":"0s","white-space":"pre-wrap",padding:"3px 0px"}}," \u516C\u544A\uFF1A\u9A8C\u8BC1\u7801\u533A\u522B\u5927\u5C0F\uFF0C\u8BF7\u53BB\u6CE8\u518C\u90AE\u7BB1\u67E5\u770B\u90AE\u4EF6\uFF0C\u83B7\u53D6\u9A8C\u8BC1\u7801\uFF0C\uFF01\uFF01\uFF01 ")])],-1),b=u("\u91CD\u65B0\u83B7\u53D6\u9A8C\u8BC1\u7801"),k={style:{padding:"10px 15px"}},y=u("\u786E\u5B9A");function x(e,t,F,L,n,s){const _=c("van-nav-bar"),h=c("van-count-down"),l=c("van-button"),m=c("van-field");return r(),g(v,null,[a(_,{title:"\u5E10\u53F7\u8BA4\u8BC1","left-arrow":"",onClickLeft:s.back},null,8,["onClickLeft"]),C,a(m,{modelValue:n.code,"onUpdate:modelValue":t[0]||(t[0]=p=>n.code=p),clearable:"",maxlength:"4",label:"\u9A8C\u8BC1\u7801",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"},{button:i(()=>[n.showCountdown?(r(),d(l,{key:0,ref:"smsCode",size:"mini"},{default:i(()=>[a(h,{time:n.time,style:{color:"#777"},onFinish:s.countDownFinish,format:"ss \u79D2\u540E\u91CD\u8BD5"},null,8,["time","onFinish"])]),_:1},512)):(r(),d(l,{key:1,onClick:s.getSmsCode,type:"primary",size:"mini"},{default:i(()=>[b]),_:1},8,["onClick"]))]),_:1},8,["modelValue"]),o("div",k,[a(l,{type:"primary",block:"",onClick:s.ChangeCode},{default:i(()=>[y]),_:1},8,["onClick"])])],64)}const U=f(w,[["render",x]]);export{U as default};
